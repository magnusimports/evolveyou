# ü§ù Guia de Contribui√ß√£o - EvolveYou

Obrigado por considerar contribuir com o EvolveYou! Este documento fornece diretrizes para contribui√ß√µes efetivas.

## üìã √çndice

- [C√≥digo de Conduta](#c√≥digo-de-conduta)
- [Como Contribuir](#como-contribuir)
- [Configura√ß√£o do Ambiente](#configura√ß√£o-do-ambiente)
- [Processo de Desenvolvimento](#processo-de-desenvolvimento)
- [Padr√µes de C√≥digo](#padr√µes-de-c√≥digo)
- [Testes](#testes)
- [Documenta√ß√£o](#documenta√ß√£o)
- [Pull Requests](#pull-requests)

## üìú C√≥digo de Conduta

Este projeto adere ao [C√≥digo de Conduta do Contributor Covenant](CODE_OF_CONDUCT.md). Ao participar, voc√™ concorda em manter este c√≥digo.

## üöÄ Como Contribuir

### Tipos de Contribui√ß√£o

Aceitamos v√°rios tipos de contribui√ß√µes:

- üêõ **Bug Reports**: Relate problemas encontrados
- ‚ú® **Feature Requests**: Sugira novas funcionalidades
- üìù **Documenta√ß√£o**: Melhore ou adicione documenta√ß√£o
- üîß **Code**: Implemente corre√ß√µes ou novas features
- üß™ **Testes**: Adicione ou melhore testes
- üé® **Design**: Melhore UI/UX

### Antes de Come√ßar

1. **Verifique Issues Existentes**: Procure por issues relacionadas
2. **Discuta Grandes Mudan√ßas**: Abra uma issue para discutir antes de implementar
3. **Leia a Documenta√ß√£o**: Familiarize-se com a arquitetura do projeto

## ‚öôÔ∏è Configura√ß√£o do Ambiente

### 1. Fork e Clone

```bash
# Fork o reposit√≥rio no GitHub
# Clone seu fork
git clone https://github.com/SEU-USERNAME/evolveyou.git
cd evolveyou

# Adicione o reposit√≥rio original como upstream
git remote add upstream https://github.com/evolveyou/evolveyou.git
```

### 2. Instala√ß√£o Autom√°tica

```bash
# Execute o script de instala√ß√£o
./scripts/setup/install.sh
```

### 3. Configura√ß√£o Manual

Se preferir configurar manualmente, siga o [Guia de Instala√ß√£o](docs/INSTALLATION.md).

### 4. Verifica√ß√£o

```bash
# Execute os testes para verificar se tudo est√° funcionando
npm test
```

## üîÑ Processo de Desenvolvimento

### 1. Sincroniza√ß√£o

Sempre sincronize com o reposit√≥rio upstream antes de come√ßar:

```bash
git fetch upstream
git checkout main
git merge upstream/main
```

### 2. Cria√ß√£o de Branch

Use nomes descritivos para branches:

```bash
# Para features
git checkout -b feature/nome-da-feature

# Para corre√ß√µes
git checkout -b fix/descricao-do-bug

# Para documenta√ß√£o
git checkout -b docs/topico-documentacao
```

### 3. Desenvolvimento

- Fa√ßa commits pequenos e frequentes
- Use mensagens de commit descritivas
- Teste suas mudan√ßas regularmente

### 4. Testes

Execute testes antes de fazer push:

```bash
# Todos os testes
npm test

# Testes espec√≠ficos
npm run test:backend
npm run test:frontend

# Linting
npm run lint
```

## üìù Padr√µes de C√≥digo

### Conven√ß√µes de Commit

Usamos [Conventional Commits](https://conventionalcommits.org/):

```
type(scope): description

feat(auth): add Google OAuth integration
fix(api): resolve timeout issue in user service
docs(readme): update installation instructions
style(ui): improve button hover states
refactor(coach): optimize AI response generation
test(anamnese): add unit tests for calculations
chore(deps): update dependencies
```

### Tipos de Commit

- `feat`: Nova funcionalidade
- `fix`: Corre√ß√£o de bug
- `docs`: Documenta√ß√£o
- `style`: Formata√ß√£o, sem mudan√ßa de l√≥gica
- `refactor`: Refatora√ß√£o de c√≥digo
- `test`: Adi√ß√£o ou corre√ß√£o de testes
- `chore`: Tarefas de manuten√ß√£o

### Padr√µes de C√≥digo

#### JavaScript/TypeScript

```javascript
// Use ESLint + Prettier
// Configura√ß√£o em .eslintrc.js e .prettierrc

// Nomes descritivos
const calculateUserBMR = (weight, height, age, gender) => {
  // Implementa√ß√£o
};

// Coment√°rios JSDoc para fun√ß√µes p√∫blicas
/**
 * Calcula a Taxa Metab√≥lica Basal do usu√°rio
 * @param {number} weight - Peso em kg
 * @param {number} height - Altura em cm
 * @param {number} age - Idade em anos
 * @param {string} gender - 'male' ou 'female'
 * @returns {number} BMR em calorias
 */
```

#### Python

```python
# Use Black + Flake8
# Configura√ß√£o em pyproject.toml e .flake8

# Type hints
def calculate_bmr(weight: float, height: float, age: int, gender: str) -> float:
    """
    Calcula a Taxa Metab√≥lica Basal do usu√°rio.
    
    Args:
        weight: Peso em kg
        height: Altura em cm
        age: Idade em anos
        gender: 'male' ou 'female'
        
    Returns:
        BMR em calorias
    """
    # Implementa√ß√£o
```

#### React Components

```jsx
// Use TypeScript para componentes
interface UserProfileProps {
  user: User;
  onUpdate: (user: User) => void;
}

export const UserProfile: React.FC<UserProfileProps> = ({ user, onUpdate }) => {
  // Implementa√ß√£o
};

// Hooks customizados
export const useUserProfile = (userId: string) => {
  // Implementa√ß√£o
};
```

### Estrutura de Arquivos

```
src/
‚îú‚îÄ‚îÄ components/          # Componentes reutiliz√°veis
‚îÇ   ‚îú‚îÄ‚îÄ ui/             # Componentes b√°sicos de UI
‚îÇ   ‚îî‚îÄ‚îÄ features/       # Componentes espec√≠ficos de features
‚îú‚îÄ‚îÄ pages/              # P√°ginas/rotas
‚îú‚îÄ‚îÄ hooks/              # Hooks customizados
‚îú‚îÄ‚îÄ services/           # Servi√ßos e APIs
‚îú‚îÄ‚îÄ utils/              # Utilit√°rios
‚îú‚îÄ‚îÄ types/              # Defini√ß√µes de tipos
‚îî‚îÄ‚îÄ constants/          # Constantes
```

## üß™ Testes

### Tipos de Testes

#### 1. Testes Unit√°rios

```javascript
// Jest + Testing Library para frontend
import { render, screen } from '@testing-library/react';
import { UserProfile } from './UserProfile';

test('renders user name', () => {
  const user = { name: 'Jo√£o Silva', email: 'joao@email.com' };
  render(<UserProfile user={user} />);
  expect(screen.getByText('Jo√£o Silva')).toBeInTheDocument();
});
```

```python
# Pytest para backend
import pytest
from src.services.anamnese_service import calculate_bmr

def test_calculate_bmr_male():
    bmr = calculate_bmr(weight=80, height=175, age=30, gender='male')
    assert bmr == pytest.approx(1801.25, rel=1e-2)
```

#### 2. Testes de Integra√ß√£o

```python
# Teste de API completa
def test_anamnese_submission(client, auth_headers):
    response = client.post('/anamnese/submit', 
                          json=anamnese_data, 
                          headers=auth_headers)
    assert response.status_code == 201
    assert 'anamnese_id' in response.json()
```

#### 3. Testes E2E

```javascript
// Playwright para testes end-to-end
test('complete anamnese flow', async ({ page }) => {
  await page.goto('/anamnese');
  await page.fill('[data-testid="age-input"]', '30');
  await page.click('[data-testid="submit-button"]');
  await expect(page.locator('[data-testid="results"]')).toBeVisible();
});
```

### Cobertura de Testes

Mantemos cobertura m√≠nima de:
- **Backend**: 80%
- **Frontend**: 70%
- **Fun√ß√µes cr√≠ticas**: 95%

```bash
# Verificar cobertura
npm run test:coverage
```

## üìö Documenta√ß√£o

### Tipos de Documenta√ß√£o

1. **README**: Vis√£o geral e quick start
2. **API Docs**: Documenta√ß√£o das APIs
3. **Code Comments**: Coment√°rios no c√≥digo
4. **Architecture Docs**: Documenta√ß√£o da arquitetura

### Padr√µes de Documenta√ß√£o

#### Markdown

```markdown
# Use t√≠tulos hier√°rquicos
## Se√ß√µes principais
### Subse√ß√µes

- Use listas para itens
- **Negrito** para √™nfase
- `c√≥digo` para comandos
- [Links](url) para refer√™ncias

```bash
# Blocos de c√≥digo com linguagem
comando --exemplo
```

#### JSDoc

```javascript
/**
 * Descri√ß√£o da fun√ß√£o
 * @param {type} param - Descri√ß√£o do par√¢metro
 * @returns {type} Descri√ß√£o do retorno
 * @example
 * // Exemplo de uso
 * const result = myFunction(param);
 */
```

#### Python Docstrings

```python
def my_function(param: str) -> str:
    """
    Descri√ß√£o da fun√ß√£o.
    
    Args:
        param: Descri√ß√£o do par√¢metro
        
    Returns:
        Descri√ß√£o do retorno
        
    Example:
        >>> my_function("test")
        "result"
    """
```

## üîÑ Pull Requests

### Antes de Submeter

1. **Sincronize** com upstream
2. **Execute testes** localmente
3. **Verifique linting**
4. **Atualize documenta√ß√£o** se necess√°rio

### Template de PR

```markdown
## Descri√ß√£o
Breve descri√ß√£o das mudan√ßas

## Tipo de Mudan√ßa
- [ ] Bug fix
- [ ] Nova feature
- [ ] Breaking change
- [ ] Documenta√ß√£o

## Como Testar
1. Passos para testar
2. Casos de teste espec√≠ficos

## Checklist
- [ ] Testes passando
- [ ] Linting OK
- [ ] Documenta√ß√£o atualizada
- [ ] Changelog atualizado (se necess√°rio)

## Screenshots (se aplic√°vel)
```

### Processo de Review

1. **Automated Checks**: CI/CD deve passar
2. **Code Review**: Pelo menos 1 aprova√ß√£o
3. **Testing**: Testes manuais se necess√°rio
4. **Merge**: Squash and merge preferido

### Crit√©rios de Aprova√ß√£o

- ‚úÖ C√≥digo segue padr√µes estabelecidos
- ‚úÖ Testes adequados inclu√≠dos
- ‚úÖ Documenta√ß√£o atualizada
- ‚úÖ Sem breaking changes n√£o documentadas
- ‚úÖ Performance n√£o degradada

## üêõ Reportando Bugs

### Template de Bug Report

```markdown
**Descri√ß√£o do Bug**
Descri√ß√£o clara e concisa do bug

**Passos para Reproduzir**
1. V√° para '...'
2. Clique em '....'
3. Role para baixo at√© '....'
4. Veja o erro

**Comportamento Esperado**
O que deveria acontecer

**Screenshots**
Se aplic√°vel, adicione screenshots

**Ambiente:**
- OS: [e.g. iOS]
- Browser [e.g. chrome, safari]
- Vers√£o [e.g. 22]

**Contexto Adicional**
Qualquer outro contexto sobre o problema
```

## ‚ú® Sugerindo Features

### Template de Feature Request

```markdown
**A feature est√° relacionada a um problema?**
Descri√ß√£o clara do problema

**Descreva a solu√ß√£o desejada**
Descri√ß√£o clara e concisa da solu√ß√£o

**Descreva alternativas consideradas**
Outras solu√ß√µes ou features consideradas

**Contexto Adicional**
Screenshots, mockups, ou contexto adicional
```

## üè∑Ô∏è Versionamento

Seguimos [Semantic Versioning](https://semver.org/):

- **MAJOR**: Mudan√ßas incompat√≠veis na API
- **MINOR**: Funcionalidades adicionadas de forma compat√≠vel
- **PATCH**: Corre√ß√µes de bugs compat√≠veis

## üìû Suporte

### Canais de Comunica√ß√£o

- **GitHub Issues**: Para bugs e feature requests
- **GitHub Discussions**: Para perguntas e discuss√µes
- **Email**: dev@evolveyou.com.br (para quest√µes sens√≠veis)

### Tempo de Resposta

- **Issues cr√≠ticas**: 24 horas
- **Issues normais**: 72 horas
- **Feature requests**: 1 semana

## üéâ Reconhecimento

Contribuidores s√£o reconhecidos:

- **README**: Lista de contribuidores
- **Changelog**: Cr√©ditos por vers√£o
- **GitHub**: Contributor insights

## üìÑ Licen√ßa

Ao contribuir, voc√™ concorda que suas contribui√ß√µes ser√£o licenciadas sob a mesma licen√ßa do projeto (MIT).

---

**Obrigado por contribuir com o EvolveYou! üöÄ**

